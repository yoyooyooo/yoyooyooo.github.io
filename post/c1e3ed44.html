<!DOCTYPE html>
<html lang="">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="Rxjs笔记（10）：转化类操作符"/>




  <meta name="keywords" content="RXJS," />





  <link rel="alternate" href="/default" title="yooo">




  <link rel="shortcut icon" type="image/x-icon" href="/myfavicon.ico?v=1.1" />



<link rel="canonical" href="https://yoyooyooo.github.io/post/c1e3ed44.html"/>


<meta name="description" content="map最简单的转化操作符，类似js数组的map，接受一个函数参数，第二个参数可选，作为函数参数执行时的this指向。需要注意的是使用第二个参数的时候，函数参数不能用箭头函数。不过第二个参数还是少用吧，如果一个函数执行时依赖于this，难以预料结果，不符合纯函数思想。 mapTo把上游所有数据都转化为一个相同的数据，可以用map实现，偷懒版map。 #pluck把上游数据中特性字段取出来。可以接受多">
<meta name="keywords" content="RXJS">
<meta property="og:type" content="article">
<meta property="og:title" content="Rxjs笔记（10）：转化类操作符">
<meta property="og:url" content="https://yoyooyooo.github.io/post/c1e3ed44.html">
<meta property="og:site_name" content="yooo">
<meta property="og:description" content="map最简单的转化操作符，类似js数组的map，接受一个函数参数，第二个参数可选，作为函数参数执行时的this指向。需要注意的是使用第二个参数的时候，函数参数不能用箭头函数。不过第二个参数还是少用吧，如果一个函数执行时依赖于this，难以预料结果，不符合纯函数思想。 mapTo把上游所有数据都转化为一个相同的数据，可以用map实现，偷懒版map。 #pluck把上游数据中特性字段取出来。可以接受多">
<meta property="og:updated_time" content="2018-06-04T16:31:24.749Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rxjs笔记（10）：转化类操作符">
<meta name="twitter:description" content="map最简单的转化操作符，类似js数组的map，接受一个函数参数，第二个参数可选，作为函数参数执行时的this指向。需要注意的是使用第二个参数的时候，函数参数不能用箭头函数。不过第二个参数还是少用吧，如果一个函数执行时依赖于this，难以预料结果，不符合纯函数思想。 mapTo把上游所有数据都转化为一个相同的数据，可以用map实现，偷懒版map。 #pluck把上游数据中特性字段取出来。可以接受多">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> Rxjs笔记（10）：转化类操作符 - yooo </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">yooo</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Rxjs笔记（10）：转化类操作符
        
      </h1>

      <time class="post-time">
          Jun 04 2018
      </time>
    </header>



    
            <div class="post-content">
            <h1 id="map"><a href="#map" class="headerlink" title="map"></a>map</h1><p>最简单的转化操作符，类似js数组的map，接受一个函数参数，第二个参数可选，作为函数参数执行时的this指向。需要注意的是使用第二个参数的时候，函数参数不能用箭头函数。不过第二个参数还是少用吧，如果一个函数执行时依赖于this，难以预料结果，不符合纯函数思想。</p>
<h1 id="mapTo"><a href="#mapTo" class="headerlink" title="mapTo"></a>mapTo</h1><p>把上游所有数据都转化为一个相同的数据，可以用map实现，偷懒版map。</p>
<p>#pluck<br>把上游数据中特性字段取出来。可以接受多个参数，表示访问嵌套属性。也可以用map来实现，不过比map方便的一点是，pluck如果没有该属性会返回undefined给下游，用map还得自己判断是否不存在属性。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> source$ =</span><br><span class="line">  <span class="keyword">of</span>(&#123; <span class="attr">name</span>: <span class="string">"a"</span>, <span class="attr">value</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">"b"</span>, <span class="attr">value</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">"c"</span>, <span class="attr">value</span>: <span class="number">3</span> &#125;)</span><br><span class="line">  |&gt; pluck(<span class="string">"name"</span>); <span class="comment">//a b c</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> source$ =</span><br><span class="line">  <span class="keyword">of</span>(</span><br><span class="line">    &#123; <span class="attr">name</span>: &#123; <span class="attr">test</span>: <span class="number">111</span> &#125;, <span class="attr">value</span>: <span class="number">1</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">"b"</span>, <span class="attr">value</span>: <span class="number">2</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">"c"</span>, <span class="attr">value</span>: <span class="number">3</span> &#125;</span><br><span class="line">  ) |&gt; pluck(<span class="string">"name"</span>, <span class="string">"test"</span>); <span class="comment">//111 undefined undefined</span></span><br></pre></td></tr></table></figure>
<h1 id="无损回压控制"><a href="#无损回压控制" class="headerlink" title="无损回压控制"></a>无损回压控制</h1><p>之前用过滤类操作符进行的回压控制都是有损的，会舍弃掉一些数据。其实也可以无损，只要把一定时间内产生的数据放到一个数据集合内，一次性丢给下游，这个集合可以是数组，也可以是一个Observable对象。支持数组的包含buffer，支持Observable的包含window。<br>如果这样做，下游必须做对应的处理，因为本来下游是处理一个个数据的，结果现在传下来的是一个集合，所以无损回压控制变相来说是把数据的取舍决策权交给了下游。</p>
<h1 id="windowTime和bufferTime"><a href="#windowTime和bufferTime" class="headerlink" title="windowTime和bufferTime"></a>windowTime和bufferTime</h1><p>根据时间来缓存上游数据。按一定时间划分时间区块，每一块时间缓存成一个集合，windowTime缓存为Observable对象，bufferTime缓存成数组。<br><code>interval(1000) |&gt; windowTime(2000)</code>的弹珠图可表示为：</p>
<svg width="598.4000244140625" height="323" style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;"><line x1="21" y1="37" x2="21" y2="89" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="134.6502248901367" y1="37" x2="134.6502248901367" y2="141" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="248.47066978759764" y1="37" x2="248.47066978759764" y2="193" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="362.17763468017574" y1="37" x2="362.17763468017574" y2="245" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="475.7711195678711" y1="37" x2="475.7711195678711" y2="297" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><g transform="translate(0, 11)"><!-- react-empty: 10 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#000000" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#000000" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 15 --><g><g style="transform: translate(0px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(113.65px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(227.471px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(341.178px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(454.771px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g></g><!-- react-empty: 17 --></g></g><g transform="translate(0, 63)"><!-- react-empty: 41 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="0" y1="26" x2="113.53674488525391" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="113.53674488525391" y1="11" x2="113.53674488525391" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(56.7967px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">0</text></g></g><!-- react-empty: 48 --></g></g><g transform="translate(0, 115)"><!-- react-empty: 57 --><g transform="translate(21, 0)"><line x1="113.65022489013673" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="113.65022489013673" y1="26" x2="227.35718978271484" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="227.35718978271484" y1="11" x2="227.35718978271484" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(113.934px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">1</text></g><g style="transform: translate(171.014px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">2</text></g></g><!-- react-empty: 64 --></g></g><g transform="translate(0, 167)"><!-- react-empty: 76 --><g transform="translate(21, 0)"><line x1="227.47066978759764" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="227.47066978759764" y1="26" x2="341.06415467529297" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="341.06415467529297" y1="11" x2="341.06415467529297" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(227.925px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">3</text></g><g style="transform: translate(285.005px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">4</text></g></g><!-- react-empty: 83 --></g></g><g transform="translate(0, 219)"><!-- react-empty: 95 --><g transform="translate(21, 0)"><line x1="341.17763468017574" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="341.17763468017574" y1="26" x2="454.7143795654297" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="454.7143795654297" y1="11" x2="454.7143795654297" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(341.859px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">5</text></g><g style="transform: translate(398.825px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">6</text></g></g><!-- react-empty: 102 --></g></g><g transform="translate(0, 271)"><!-- react-empty: 114 --><g transform="translate(21, 0)"><line x1="454.7711195678711" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#767676" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 119 --><g><g style="transform: translate(455.679px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">7</text></g><g style="transform: translate(512.532px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">8</text></g></g><!-- react-empty: 121 --></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"/></svg><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> source$ = interval(<span class="number">1000</span>) |&gt; bufferTime(<span class="number">2000</span>); <span class="comment">//[0] [1,2] [3,4] ...</span></span><br></pre></td></tr></table></figure><br><br>bufferTime和windowTime还可以接收第二个参数，表示吐出集合的频率,<br><code>interval(1000) |&gt; windowTime(2000,1000)</code>的弹珠图可表示为：<br><svg width="598.4000244140625" height="375" style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;"><line x1="21" y1="37" x2="21" y2="89" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="115.94493741861979" y1="37" x2="115.94493741861979" y2="141" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="210.98444150797525" y1="37" x2="210.98444150797525" y2="193" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="305.92937892659506" y1="37" x2="305.92937892659506" y2="245" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="401.06344968668617" y1="37" x2="401.06344968668617" y2="297" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="496.19752044677733" y1="37" x2="496.19752044677733" y2="349" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><g transform="translate(0, 11)"><!-- react-empty: 10 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#000000" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#000000" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 15 --><g><g style="transform: translate(0px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(94.9449px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(189.984px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(284.929px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(380.063px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(475.198px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g></g><!-- react-empty: 17 --></g></g><g transform="translate(0, 63)"><!-- react-empty: 175 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="0" y1="26" x2="189.32247481282553" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="189.32247481282553" y1="11" x2="189.32247481282553" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(95.1341px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">0</text></g></g><!-- react-empty: 182 --></g></g><g transform="translate(0, 115)"><!-- react-empty: 579 --><g transform="translate(21, 0)"><line x1="94.94493741861979" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="94.94493741861979" y1="26" x2="284.36197890218097" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="284.36197890218097" y1="11" x2="284.36197890218097" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(95.3232px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">0</text></g><g style="transform: translate(190.363px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">1</text></g></g><!-- react-empty: 586 --></g></g><g transform="translate(0, 167)"><!-- react-empty: 598 --><g transform="translate(21, 0)"><line x1="189.98444150797525" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="189.98444150797525" y1="26" x2="379.4960496622721" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="379.4960496622721" y1="11" x2="379.4960496622721" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(190.552px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">1</text></g><g style="transform: translate(285.402px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">2</text></g></g><!-- react-empty: 605 --></g></g><g transform="translate(0, 219)"><!-- react-empty: 617 --><g transform="translate(21, 0)"><line x1="284.92937892659506" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="284.92937892659506" y1="26" x2="474.6301204223633" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="474.6301204223633" y1="11" x2="474.6301204223633" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(285.875px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">2</text></g><g style="transform: translate(380.536px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">3</text></g></g><!-- react-empty: 624 --></g></g><g transform="translate(0, 271)"><!-- react-empty: 636 --><g transform="translate(21, 0)"><line x1="380.06344968668617" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#767676" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 641 --><g><g style="transform: translate(380.725px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">3</text></g><g style="transform: translate(475.576px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">4</text></g></g><!-- react-empty: 643 --></g></g><g transform="translate(0, 323)"><!-- react-empty: 655 --><g transform="translate(21, 0)"><line x1="475.19752044677733" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#767676" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 660 --><g><g style="transform: translate(475.765px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">4</text></g></g><!-- react-empty: 662 --></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"/></svg><br><strong>可以看出：如果第一个参数大于第二个，缓存区就会重叠，第一个参数小于第二个，缓存区就会没法完全覆盖整个上游数据流，当然只是可能会重复或者丢失数据，因为重叠或者缺失的时间区域不一定产生了数据。</strong><br><strong>2个参数相同的情况相当于只有一个参数的情况</strong><br>bufferTime和windowTime还可以接受第三个参数，用于限制缓存集合内数据的最大个数，超过上限后集合就会立即完结。<br><code>timer(0,1000) |&gt; windowTime(4000, 2000)</code>弹珠图如下：<br><svg width="598.4000244140625" height="323" style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;"><line x1="21" y1="37" x2="21" y2="89" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="134.6502248901367" y1="37" x2="134.6502248901367" y2="141" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="248.35718978271484" y1="37" x2="248.35718978271484" y2="193" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="361.8939346679688" y1="37" x2="361.8939346679688" y2="245" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="475.65763956298827" y1="37" x2="475.65763956298827" y2="297" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><g transform="translate(0, 11)"><!-- react-empty: 10 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#000000" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#000000" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 15 --><g><g style="transform: translate(0px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(113.65px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(227.357px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(340.894px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(454.658px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g></g><!-- react-empty: 17 --></g></g><g transform="translate(0, 63)"><!-- react-empty: 175 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="0" y1="26" x2="227.0167497680664" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="227.0167497680664" y1="11" x2="227.0167497680664" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(0.17022px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">0</text></g><g style="transform: translate(56.967px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">1</text></g><g style="transform: translate(113.764px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">2</text></g><g style="transform: translate(170.901px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">3</text></g></g><!-- react-empty: 182 --></g></g><g transform="translate(0, 115)"><!-- react-empty: 1282 --><g transform="translate(21, 0)"><line x1="113.65022489013673" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="113.65022489013673" y1="26" x2="340.72371466064453" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="340.72371466064453" y1="11" x2="340.72371466064453" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(113.934px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">2</text></g><g style="transform: translate(170.958px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">3</text></g><g style="transform: translate(227.754px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">4</text></g><g style="transform: translate(284.665px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">5</text></g></g><!-- react-empty: 1289 --></g></g><g transform="translate(0, 167)"><!-- react-empty: 1307 --><g transform="translate(21, 0)"><line x1="227.35718978271484" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="227.35718978271484" y1="26" x2="454.37393955078124" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="454.37393955078124" y1="11" x2="454.37393955078124" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(227.868px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">4</text></g><g style="transform: translate(284.721px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">5</text></g><g style="transform: translate(341.461px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">6</text></g><g style="transform: translate(398.372px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">7</text></g></g><!-- react-empty: 1314 --></g></g><g transform="translate(0, 219)"><!-- react-empty: 1332 --><g transform="translate(21, 0)"><line x1="340.8939346679688" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#767676" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 1337 --><g><g style="transform: translate(341.575px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">6</text></g><g style="transform: translate(398.428px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">7</text></g><g style="transform: translate(455.225px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">8</text></g><g style="transform: translate(512.135px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">9</text></g></g><!-- react-empty: 1339 --></g></g><g transform="translate(0, 271)"><!-- react-empty: 1357 --><g transform="translate(21, 0)"><line x1="454.65763956298827" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#767676" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 1362 --><g><g style="transform: translate(455.282px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">8</text></g><g style="transform: translate(512.249px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">9</text></g></g><!-- react-empty: 1364 --></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"/></svg><br><code>timer(0,1000) |&gt; windowTime(4000, 2000, 2)</code>弹珠图如下：<br><svg width="598.4000244140625" height="323" style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;"><line x1="21" y1="37" x2="21" y2="89" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="134.5934848876953" y1="37" x2="134.5934848876953" y2="141" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="248.18696977539062" y1="37" x2="248.18696977539062" y2="193" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="361.78045466308595" y1="37" x2="361.78045466308595" y2="245" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="475.37393955078124" y1="37" x2="475.37393955078124" y2="297" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><g transform="translate(0, 11)"><!-- react-empty: 10 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#000000" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#000000" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 15 --><g><g style="transform: translate(0px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(113.593px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(227.187px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(340.78px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(454.374px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g></g><!-- react-empty: 17 --></g></g><g transform="translate(0, 63)"><!-- react-empty: 175 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="0" y1="26" x2="57.13718245849609" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="57.13718245849609" y1="3.5" x2="57.13718245849609" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(0.22696px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">0</text></g><g style="transform: translate(57.0804px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">1</text></g></g><!-- react-empty: 182 --></g></g><g transform="translate(0, 115)"><!-- react-empty: 1390 --><g transform="translate(21, 0)"><line x1="113.59348488769531" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="113.59348488769531" y1="26" x2="171.18458736572265" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="171.18458736572268" y1="3.5" x2="171.18458736572268" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(113.934px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">2</text></g><g style="transform: translate(171.071px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">3</text></g></g><!-- react-empty: 1397 --></g></g><g transform="translate(0, 167)"><!-- react-empty: 1409 --><g transform="translate(21, 0)"><line x1="227.18696977539062" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="227.18696977539062" y1="26" x2="284.94829226074216" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="284.94829226074216" y1="3.5" x2="284.94829226074216" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(228.095px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">4</text></g><g style="transform: translate(284.892px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">5</text></g></g><!-- react-empty: 1416 --></g></g><g transform="translate(0, 219)"><!-- react-empty: 1428 --><g transform="translate(21, 0)"><line x1="340.78045466308595" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="340.78045466308595" y1="26" x2="398.88221716308595" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="398.8822171630859" y1="3.5" x2="398.8822171630859" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(341.859px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">6</text></g><g style="transform: translate(398.769px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">7</text></g></g><!-- react-empty: 1435 --></g></g><g transform="translate(0, 271)"><!-- react-empty: 1447 --><g transform="translate(21, 0)"><line x1="454.37393955078124" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="454.37393955078124" y1="26" x2="512.5891820556641" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="512.5891820556641" y1="3.5" x2="512.5891820556641" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(455.679px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">8</text></g><g style="transform: translate(512.532px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">9</text></g></g><!-- react-empty: 1454 --></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"/></svg><br>bufferTime类似，只是变成数组<br><br># windowCount和bufferCount<br>根据数据个数缓存上游数据。也就是不管数据输出频率，按一定数量平分上游数据变成一个个缓存集合。windowCount和bufferCount同样可以接受第二个参数，也是控制缓存集合产生的频率。<br><code>timer(0, 1000) |&gt; bufferCount(3)</code>弹珠图如下：<br><svg width="598.4000244140625" height="271" style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;"><line x1="21" y1="37" x2="21" y2="89" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="135.04740490722656" y1="37" x2="135.04740490722656" y2="141" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="305.6645922485352" y1="37" x2="305.6645922485352" y2="193" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="476.39525959472655" y1="37" x2="476.39525959472655" y2="245" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><g transform="translate(0, 11)"><!-- react-empty: 10 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#000000" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#000000" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 15 --><g><g style="transform: translate(0px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(114.047px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(284.665px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(455.395px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g></g><!-- react-empty: 17 --></g></g><g transform="translate(0, 63)"><!-- react-empty: 1481 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="0" y1="26" x2="113.99066490478516" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="113.99066490478515" y1="3.5" x2="113.99066490478515" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(0.22696px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">0</text></g><g style="transform: translate(57.0804px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">1</text></g><g style="transform: translate(113.934px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">2</text></g></g><!-- react-empty: 1488 --></g></g><g transform="translate(0, 115)"><!-- react-empty: 1893 --><g transform="translate(21, 0)"><line x1="114.04740490722656" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="114.04740490722656" y1="26" x2="284.6078522460937" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="284.6078522460938" y1="3.5" x2="284.6078522460938" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(170.958px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">3</text></g><g style="transform: translate(227.754px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">4</text></g><g style="transform: translate(284.608px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">5</text></g></g><!-- react-empty: 1900 --></g></g><g transform="translate(0, 167)"><!-- react-empty: 1915 --><g transform="translate(21, 0)"><line x1="284.6645922485352" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="284.6645922485352" y1="26" x2="455.33851959228514" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="455.33851959228514" y1="3.5" x2="455.33851959228514" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(341.575px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">6</text></g><g style="transform: translate(398.428px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">7</text></g><g style="transform: translate(455.282px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">8</text></g></g><!-- react-empty: 1922 --></g></g><g transform="translate(0, 219)"><!-- react-empty: 1937 --><g transform="translate(21, 0)"><line x1="455.39525959472655" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#767676" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 1942 --><g><g style="transform: translate(512.305px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">9</text></g></g><!-- react-empty: 1944 --></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"/></svg><br><code>timer(0, 1000) |&gt; bufferCount(3, 4)</code>弹珠图如下：<br><svg width="598.4000244140625" height="219" style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;"><line x1="21.056740002441405" y1="37" x2="21.056740002441405" y2="89" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="191.95762735595704" y1="37" x2="191.95762735595704" y2="141" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="419.4850371459961" y1="37" x2="419.4850371459961" y2="193" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><g transform="translate(0, 11)"><!-- react-empty: 10 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#000000" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#000000" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 15 --><g><g style="transform: translate(0.05674px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(170.958px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(398.485px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g></g><!-- react-empty: 17 --></g></g><g transform="translate(0, 63)"><!-- react-empty: 1481 --><g transform="translate(21, 0)"><line x1="0.05674000244140625" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="0.05674000244140625" y1="26" x2="114.16088491210938" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="114.16088491210937" y1="3.5" x2="114.16088491210937" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(0.22696px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">0</text></g><g style="transform: translate(57.1372px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">1</text></g><g style="transform: translate(114.047px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">2</text></g></g><!-- react-empty: 1488 --></g></g><g transform="translate(0, 115)"><!-- react-empty: 1964 --><g transform="translate(21, 0)"><line x1="170.95762735595704" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="170.95762735595704" y1="26" x2="341.57481469726565" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="341.5748146972656" y1="3.5" x2="341.5748146972656" y2="48.5" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(227.868px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">4</text></g><g style="transform: translate(284.665px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">5</text></g><g style="transform: translate(341.518px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">6</text></g></g><!-- react-empty: 1971 --></g></g><g transform="translate(0, 167)"><!-- react-empty: 1986 --><g transform="translate(21, 0)"><line x1="398.4850371459961" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#767676" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 1991 --><g><g style="transform: translate(455.339px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">8</text></g><g style="transform: translate(512.305px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">9</text></g></g><!-- react-empty: 1993 --></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"/></svg>

<h1 id="windowWhen和bufferWhen"><a href="#windowWhen和bufferWhen" class="headerlink" title="windowWhen和bufferWhen"></a>windowWhen和bufferWhen</h1><p>类似repeatWhen/takeUntil，用一个Observable对象来控制缓存集合的生成。接受一个函数作为参数，该函数返回一个Observable对象，用于控制上游数据的分割，每当这个Observable对象产生数据，windowWhen就会关闭上一个缓冲窗口，重新开启一个缓冲窗口。<br>这个函数没有参数，因为调用的时机和上游没有关系，但是这样只能调用外部参数来获取变化因素，违背了函数式编程原则，或许可以用点击事件之类的来控制，但是也不太好应用，这2个操作符看起来用处不大。</p>
<h1 id="windowToggle和bufferToggle"><a href="#windowToggle和bufferToggle" class="headerlink" title="windowToggle和bufferToggle"></a>windowToggle和bufferToggle</h1><p>接受2个参数，第一个参数为一个Observable对象，用来控制缓存窗口的开启。<br>第二个参数为一个函数，用来控制缓存窗口的关闭。这个函数接受一个参数，为第一个参数的Observable对象产生的数据，返回一个Observable对象。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const source$ =</span><br><span class="line">  timer(0, 1000)</span><br><span class="line">  |&gt; windowToggle(timer(0, 4000), a =&gt; &#123;</span><br><span class="line">    return a % 2 === 0 ? timer(2000) : timer(4000);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p>
<svg width="598.4000244140625" height="271" style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;"><line x1="21.07565333658854" y1="37" x2="21.07565333658854" y2="89" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="172.53363318684896" y1="37" x2="172.53363318684896" y2="141" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="324.1050930419922" y1="37" x2="324.1050930419922" y2="193" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><line x1="475.4874195556641" y1="37" x2="475.4874195556641" y2="245" stroke="#767676" stroke-width="1" stroke-dasharray="3,3"/><g transform="translate(0, 11)"><!-- react-empty: 10 --><g transform="translate(21, 0)"><line x1="0" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#000000" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#000000" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 15 --><g><g style="transform: translate(0.0756533px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(151.534px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(303.105px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g><g style="transform: translate(454.487px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="0" stroke="#000000" fill="#767676"/></g></g><!-- react-empty: 2010 --></g></g><g transform="translate(0, 63)"><!-- react-empty: 2118 --><g transform="translate(21, 0)"><line x1="0.07565333658854168" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="0.07565333658854168" y1="26" x2="75.72898992513021" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="75.72898992513022" y1="11" x2="75.72898992513022" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(0.11348px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">0</text></g><g style="transform: translate(38.0536px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">1</text></g></g><!-- react-empty: 2125 --></g></g><g transform="translate(0, 115)"><!-- react-empty: 2137 --><g transform="translate(21, 0)"><line x1="151.53363318684896" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="151.53363318684896" y1="26" x2="302.8781330322266" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="302.8781330322266" y1="11" x2="302.8781330322266" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(151.723px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">4</text></g><g style="transform: translate(189.701px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">5</text></g><g style="transform: translate(227.565px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">6</text></g><g style="transform: translate(265.468px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">7</text></g></g><!-- react-empty: 2144 --></g></g><g transform="translate(0, 167)"><!-- react-empty: 2162 --><g transform="translate(21, 0)"><line x1="303.1050930419922" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="rgba(118, 118, 118, 0.2)" style="shape-rendering: crispEdges;"/><line x1="303.1050930419922" y1="26" x2="378.8340829671224" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="rgba(118, 118, 118, 0.2)" style="transition: fill 0.2s ease-in-out;"/><line x1="378.83408296712236" y1="11" x2="378.83408296712236" y2="41" stroke-width="2" stroke="#767676" style="opacity: 1; transition: opacity 0.5s ease-in-out;"/><g><g style="transform: translate(303.446px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">8</text></g><g style="transform: translate(341.348px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">9</text></g></g><!-- react-empty: 2169 --></g></g><g transform="translate(0, 219)"><!-- react-empty: 2181 --><g transform="translate(21, 0)"><line x1="454.4874195556641" y1="26" x2="567.4000244140625" y2="26" stroke-width="2" stroke="#767676" style="shape-rendering: crispEdges;"/><path transform="translate(567.4000244140625, 21)" d="M0 0 L10 5 L0 10 z" fill="#767676" style="transition: fill 0.2s ease-in-out;"/><!-- react-empty: 2186 --><g><g style="transform: translate(455.017px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">12</text></g><g style="transform: translate(492.995px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">13</text></g><g style="transform: translate(531.011px, 26px) scale(1); transition: transform 0.5s ease-in-out;"><circle cx="0" cy="0" r="15" stroke-width="2" stroke="#767676" fill="#ffffff"/><text x="0" y="0" style="fill: rgb(118, 118, 118); dominant-baseline: central;">14</text></g></g><!-- react-empty: 2188 --></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"/></svg>

<h1 id="window和buffer"><a href="#window和buffer" class="headerlink" title="window和buffer"></a>window和buffer</h1><p>只接受一个Observable对象作为参数。当这个Observable对象产生数据时，前一个缓存窗口结束，并且开启一个新缓存窗口。这个Observable对象如果不是永不完结的，那么它完结会导致window产生的当前内部Observable对象完结。</p>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/RXJS/">RXJS</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
    
      <a class="next" href="/post/fa9a8df3.html">
        <span class="next-text nav-default">Rxjs笔记（9）：操作符例子集合</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>



<div id="container"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
  var gitment = new Gitment({
    owner: 'yoyooyooo',
    repo: 'yoyooyooo.github.io',
    oauth: {
      client_id: '72a814ddc6eb790d7a5d',
      client_secret: 'aa442e96984dcbd425a8131c825cc33f437d7c29',
    },
  })
  gitment.render('container')
</script>

      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2018
    <span class="footer-author">yoyo.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>

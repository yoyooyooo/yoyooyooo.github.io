{"data":{"site":{"siteMetadata":{"title":"yoyo","author":"yoyo"}},"markdownRemark":{"id":"70f50217-f949-5820-b2bf-8fbc9785301b","excerpt":"Rxjs 的世界是由操作符连接的，一个简单的自定义操作符例子： 注：本文及以后用到的 |> 操作符是来自 https://github.com/tc39/proposal-pipeline-operator","html":"<p>Rxjs 的世界是由操作符连接的，一个简单的自定义操作符例子：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">//实现上游每个数据执行三次tripleMap里的方法</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">tripleMap</span> <span class=\"token operator\">=</span> fn <span class=\"token operator\">=></span> source$ <span class=\"token operator\">=></span>\n  Observable<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>observer <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> source$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      next<span class=\"token punctuation\">:</span> x <span class=\"token operator\">=></span> observer<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">|</span><span class=\"token operator\">></span> fn <span class=\"token operator\">|</span><span class=\"token operator\">></span> fn <span class=\"token operator\">|</span><span class=\"token operator\">></span> fn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      error<span class=\"token punctuation\">:</span> err <span class=\"token operator\">=></span> observer<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      complete<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> observer<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> source$ <span class=\"token operator\">=</span> <span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span><span class=\"token operator\">></span> <span class=\"token function\">tripleMap</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> x <span class=\"token operator\">*</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsource$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'done'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>注：本文及以后用到的 |> 操作符是来自<a href=\"https://github.com/tc39/proposal-pipeline-operator\">https://github.com/tc39/proposal-pipeline-operator</a></p>\n</blockquote>","frontmatter":{"title":"Rxjs笔记（3）：操作符","date":"2018.05.25"}}},"pageContext":{"slug":"/artical/rx3操作符/","previous":{"frontmatter":{"title":"Rxjs笔记（4）：创建类操作符","tags":["rxjs"]},"fields":{"slug":"/artical/rx4创建类操作符/","tagSlugs":["/tags/rxjs/"]}},"next":{"frontmatter":{"title":"Rxjs笔记（2）","tags":["rxjs"]},"fields":{"slug":"/artical/rx2/","tagSlugs":["/tags/rxjs/"]}}}}